library("bubbles")
library("colorRamps")
library("webshot")
library("htmlwidgets")
args<-commandArgs(T)
data<-read.table(args[1],sep="\t",header=T)
randomkey=sample(seq(1,15),15,replace = F)
bubbleMe<-bubbles(data$Count[randomkey], label = data$Name[randomkey],color=colorRampPalette(c( "#49006a","#fff7f3"))(15)[randomkey],width=1000,height=1000,textColor=rev(colorRampPalette(c( "#49006a","#fff7f3"))(15)[randomkey]))
saveWidget(bubbleMe, "tmp.html", selfcontained = F)
webshot("tmp.html", args[2], delay = 120, vwidth = 1000, vheight = 1000)
